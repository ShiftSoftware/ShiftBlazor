@typeparam T where T : ShiftEntityViewAndUpsertDTO, new()
@inject ShiftBlazorLocalizer Loc

@if (Value is ShiftSoftware.ShiftEntity.Core.Flags.IHasDraftCheckBox<T> dtoWithDraftFlag)
{
    if (Value.ID == default && !dtoWithDraftFlag.IsDraft.HasValue)
        dtoWithDraftFlag.IsDraft = true;

    <MudCheckBoxExtended Label="@Loc["DraftVersionCheckboxLabel"]"
                         For="() => dtoWithDraftFlag.IsDraft"
                         @bind-Value="dtoWithDraftFlag.IsDraft" />
}

@code {
    [Parameter]
    public T Value { get; set; } = new();
}