@inject SettingManager LangManager
@namespace ShiftSoftware.ShiftBlazor.Components

<MudMenu Class="mr-4"
         Style="cursor: pointer; padding: 10px;justify-self: start;"
         Icon="@Icons.Material.Filled.Translate"
         Variant="Variant.Outlined"
         Color="Color.Inherit"
         ActivationEvent="@MouseEvent.MouseOver"
         AnchorOrigin="Origin.BottomCenter"
         TransformOrigin="Origin.TopCenter">
    @foreach (var lang in LangManager.Configuration.Languages)
    {
        var selected = LangManager.Settings.CurrentLanguage?.CultureName == lang.CultureName;
        <MudMenuItem OnClick="@(e => LangManager.SwitchLanguage(lang))"
                     Style="@( selected ? SelectedStyle : "")">
            @lang.Label
        </MudMenuItem>
    }
    
</MudMenu>

@code {
    internal static string SelectedStyle = "background-color: var(--mud-palette-action-default-hover);";
}