@inject SettingManager LangManager
@namespace ShiftSoftware.ShiftBlazor.Components

<MudMenu Class="mr-4"
         Icon="@Icons.Material.Filled.Translate"
         Variant="Variant.Outlined"
         Color="Color.Inherit"
         ActivationEvent="@MouseEvent.MouseOver"
         AnchorOrigin="Origin.BottomCenter"
         TransformOrigin="Origin.TopCenter">
    @foreach (var lang in LangManager.Configuration.Languages)
    {
        var selected = LangManager.Settings.CurrentLanguage?.CultureName == lang.CultureName;
        var selectedStyle = "background-color: var(--mud-palette-action-default-hover);";
        <MudMenuItem Style="@( selected ? selectedStyle : "")" OnClick="@(e => LangManager.SwitchLanguage(lang))">@lang.Label</MudMenuItem>
    }
    
</MudMenu>