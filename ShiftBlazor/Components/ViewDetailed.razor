@inject IDialogService DialogService
@inject ClipboardService ClipboardService
@inject ISnackbar Snackbar

<MudStack Row="true" AlignItems="AlignItems.Center">
    <MudText>@Text</MudText>
    <MudButton Variant="Variant.Text" Color="@Color" OnClick="ShowDetail">View</MudButton>
</MudStack>

@code {
    [Parameter] public string Text { get; set; }
    [Parameter] public string Title { get; set; }
    [Parameter] public string Detail { get; set; }
    [Parameter] public MudBlazor.Color Color { get; set; } = MudBlazor.Color.Primary;

    private async void ShowDetail()
    {
        var dialogOptions = new DialogOptions
        {
            MaxWidth = MaxWidth.Medium,
        };

        var result = await DialogService.ShowMessageBox(
            Title,
            Detail,
            yesText: "Copy",
            cancelText: "Close",
            options: dialogOptions);

        if (result.HasValue && result.Value)
        {
            await ClipboardService.WriteTextAsync(Detail);
            Snackbar.Add("Copied to clipboard", Severity.Success);
        }
    }
    
}
